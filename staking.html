<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Staking Advisor - Top 50 Cryptocurrency Vergelijking</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3a57e8;
            --secondary-color: #8f9bf7;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #333333;
            --border-color: #dee2e6;
            --ai-response-bg: #f0f7ff;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            padding-top: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .card {
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            margin-bottom: 1.5rem;
            border: none;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .crypto-card {
            background-color: var(--card-background);
        }
        
        .filter-section {
            background-color: var(--card-background);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .exchange-badge {
            font-weight: 600;
            padding: 0.35rem 0.65rem;
            border-radius: 6px;
            font-size: 0.75rem;
        }
        
        .badge-bitvavo {
            background-color: #0052ff;
            color: white;
        }
        
        .badge-coinbase {
            background-color: #0667d0;
            color: white;
        }
        
        .badge-binance {
            background-color: #f0b90b;
            color: #333;
        }
        
        .badge-kraken {
            background-color: #5661f3;
            color: white;
        }
        
        .apy-value {
            font-size: 1.1rem;
            font-weight: 700;
        }
        
        .positive {
            color: #28a745;
        }
        
        .negative {
            color: #dc3545;
        }
        
        .crypto-logo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 12px;
            object-fit: cover;
        }
        
        .loading-spinner {
            display: flex;
            justify-content: center;
            padding: 3rem;
        }
        
        .best-apy {
            border-left: 4px solid #28a745;
        }
        
        .stats-box {
            text-align: center;
            padding: 1rem;
            border-radius: 8px;
            background-color: var(--card-background);
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .stats-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .ai-agent-section {
            background-color: var(--ai-response-bg);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .ai-response {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            border-left: 4px solid var(--primary-color);
        }
        
        .source-badge {
            font-size: 0.7rem;
            background-color: #e9ecef;
            color: #6c757d;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .header p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header text-center">
            <h1><i class="fas fa-robot me-2"></i>AI Staking Advisor</h1>
            <p class="lead">Vergelijk staking opbrengsten tussen exchanges met behulp van AI-analyse</p>
        </div>

        <div class="ai-agent-section">
            <h3><i class="fas fa-brain me-2"></i>AI Staking Assistant</h3>
            <p>Stel vragen over staking opbrengsten, risico's of vergelijkingen tussen exchanges</p>
            
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="aiQuestionInput" placeholder="Bijv: Wat is de beste staking optie voor Ethereum?">
                <button class="btn btn-primary" type="button" id="askAIButton">
                    <i class="fas fa-paper-plane me-1"></i> Vraag AI
                </button>
            </div>
            
            <div class="ai-response" id="aiResponse">
                <div class="d-flex align-items-center mb-2">
                    <i class="fas fa-robot text-primary me-2"></i>
                    <strong>AI Assistant:</strong>
                </div>
                <p class="mb-0">Hallo! Ik kan je helpen bij het vinden van de beste staking opties. Ik haal informatie op van StakingRewards, DeFiLlama, CoinMarketCap en CoinGecko. Stel me een vraag over staking!</p>
                <div class="mt-2">
                    <span class="source-badge badge me-1">StakingRewards</span>
                    <span class="source-badge badge me-1">DeFiLlama</span>
                    <span class="source-badge badge me-1">CoinGecko</span>
                    <span class="source-badge badge">CoinMarketCap</span>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-box">
                    <div class="stats-number" id="total-crypto">50</div>
                    <div class="stats-label">Cryptocurrencies</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <div class="stats-number" id="total-exchanges">4</div>
                    <div class="stats-label">Exchanges</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <div class="stats-number" id="avg-apy">7.8%</div>
                    <div class="stats-label">Gem. APY</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-box">
                    <div class="stats-number" id="best-exchange">Bitvavo</div>
                    <div class="stats-label">Beste Exchange</div>
                </div>
            </div>
        </div>

        <div class="filter-section">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="exchangeFilter" class="form-label">Filter op Exchange:</label>
                    <select id="exchangeFilter" class="form-select">
                        <option value="all">Alle Exchanges</option>
                        <option value="Bitvavo">Bitvavo</option>
                        <option value="Coinbase">Coinbase</option>
                        <option value="Binance">Binance</option>
                        <option value="Kraken">Kraken</option>
                    </select>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="searchInput" class="form-label">Zoek Cryptocurrency:</label>
                    <input type="text" id="searchInput" class="form-control" placeholder="Bijv. Bitcoin, Ethereum...">
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3>Top Cryptocurrencies voor Staking</h3>
            <div class="d-flex">
                <button class="btn btn-outline-secondary me-2" id="sortApy">
                    <i class="fas fa-sort-amount-down-alt me-1"></i> Sorteer op APY
                </button>
                <button class="btn btn-primary" id="refreshData">
                    <i class="fas fa-sync-alt me-1"></i> Vernieuw Data
                </button>
            </div>
        </div>

        <div id="cryptoList" class="row">
            <!-- Hier worden de cryptocurrency cards geladen -->
            <div class="loading-spinner">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Laden...</span>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center mt-4">
            <nav>
                <ul class="pagination">
                    <li class="page-item disabled"><a class="page-link" href="#">Vorige</a></li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item"><a class="page-link" href="#">Volgende</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Simulatie van cryptocurrency data
            const cryptoData = [
                {
                    id: 1,
                    name: "Bitcoin",
                    symbol: "BTC",
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/btc.png",
                    exchanges: [
                        { name: "Bitvavo", apy: 5.2, rating: 4.5 },
                        { name: "Coinbase", apy: 4.1, rating: 4.2 },
                        { name: "Binance", apy: 6.3, rating: 4.7 },
                        { name: "Kraken", apy: 4.8, rating: 4.3 }
                    ]
                },
                {
                    id: 2,
                    name: "Ethereum",
                    symbol: "ETH",
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/eth.png",
                    exchanges: [
                        { name: "Bitvavo", apy: 4.5, rating: 4.6 },
                        { name: "Coinbase", apy: 3.9, rating: 4.3 },
                        { name: "Binance", apy: 5.2, rating: 4.8 },
                        { name: "Kraken", apy: 4.2, rating: 4.4 }
                    ]
                },
                {
                    id: 3,
                    name: "Cardano",
                    symbol: "ADA",
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/ada.png",
                    exchanges: [
                        { name: "Bitvavo", apy: 3.2, rating: 4.1 },
                        { name: "Coinbase", apy: 2.8, rating: 4.0 },
                        { name: "Binance", apy: 4.1, rating: 4.5 },
                        { name: "Kraken", apy: 3.5, rating: 4.2 }
                    ]
                },
                {
                    id: 4,
                    name: "Solana",
                    symbol: "SOL",
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/sol.png",
                    exchanges: [
                        { name: "Bitvavo", apy: 6.8, rating: 4.3 },
                        { name: "Coinbase", apy: 5.9, rating: 4.1 },
                        { name: "Binance", apy: 7.5, rating: 4.6 },
                        { name: "Kraken", apy: 6.2, rating: 4.4 }
                    ]
                },
                {
                    id: 5,
                    name: "Polkadot",
                    symbol: "DOT",
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/dot.png",
                    exchanges: [
                        { name: "Bitvavo", apy: 12.5, rating: 4.2 },
                        { name: "Coinbase", apy: 10.8, rating: 4.0 },
                        { name: "Binance", apy: 14.2, rating: 4.6 },
                        { name: "Kraken", apy: 11.7, rating: 4.3 }
                    ]
                }
            ];

            // Genereer 45 extra cryptocurrencies voor een totaal van 50
            for (let i = 6; i <= 50; i++) {
                const baseApy = Math.random() * 15 + 1;
                cryptoData.push({
                    id: i,
                    name: `Crypto ${i}`,
                    symbol: `CR${i}`,
                    logo: "https://cdn.jsdelivr.net/gh/atomiclabs/cryptocurrency-icons@bea1a9722a8c63169dcc6e1d2cf3dffd2e786ddf/128/color/generic.png",
                    exchanges: [
                        { name: "Bitvavo", apy: parseFloat((baseApy * (0.9 + Math.random() * 0.2)).toFixed(1)), rating: parseFloat((4 + Math.random() * 0.8).toFixed(1)) },
                        { name: "Coinbase", apy: parseFloat((baseApy * (0.8 + Math.random() * 0.2)).toFixed(1)), rating: parseFloat((4 + Math.random() * 0.7).toFixed(1)) },
                        { name: "Binance", apy: parseFloat((baseApy * (1.0 + Math.random() * 0.2)).toFixed(1)), rating: parseFloat((4.2 + Math.random() * 0.8).toFixed(1)) },
                        { name: "Kraken", apy: parseFloat((baseApy * (0.85 + Math.random() * 0.2)).toFixed(1)), rating: parseFloat((4 + Math.random() * 0.7).toFixed(1)) }
                    ]
                });
            }

            // Functie om cryptocurrency cards te renderen
            function renderCryptoList(data) {
                const cryptoList = document.getElementById('cryptoList');
                cryptoList.innerHTML = '';

                if (data.length === 0) {
                    cryptoList.innerHTML = `
                        <div class="col-12 text-center py-5">
                            <i class="fas fa-search fa-3x mb-3 text-muted"></i>
                            <h4 class="text-muted">Geen cryptocurrency gevonden</h4>
                            <p class="text-muted">Probeer een andere zoekterm of filter</p>
                        </div>
                    `;
                    return;
                }

                data.forEach(crypto => {
                    // Vind de beste APY voor deze crypto
                    const bestApy = Math.max(...crypto.exchanges.map(e => e.apy));
                    
                    const cryptoCard = document.createElement('div');
                    cryptoCard.className = 'col-md-6 col-lg-4';
                    cryptoCard.innerHTML = `
                        <div class="card crypto-card ${crypto.exchanges.some(e => e.apy === bestApy) ? 'best-apy' : ''}">
                            <div class="card-body">
                                <div class="d-flex align-items-center mb-3">
                                    <img src="${crypto.logo}" alt="${crypto.name}" class="crypto-logo">
                                    <div>
                                        <h5 class="card-title mb-0">${crypto.name}</h5>
                                        <span class="text-muted">${crypto.symbol}</span>
                                    </div>
                                </div>
                                
                                <div class="mb-3">
                                    <span class="fw-bold">Beste APY: </span>
                                    <span class="apy-value positive">${bestApy.toFixed(2)}%</span>
                                </div>
                                
                                <h6 class="mb-2">Exchanges:</h6>
                                ${crypto.exchanges.map(exchange => `
                                    <div class="d-flex justify-content-between align-items-center mb-2 p-2 border rounded">
                                        <div>
                                            <span class="exchange-badge badge-${exchange.name.toLowerCase()}">${exchange.name}</span>
                                        </div>
                                        <div class="text-end">
                                            <div class="apy-value ${exchange.apy === bestApy ? 'positive' : ''}">${exchange.apy.toFixed(2)}%</div>
                                            <div class="text-muted small">Rating: ${exchange.rating.toFixed(1)}/5</div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                    cryptoList.appendChild(cryptoCard);
                });
            }

            // Initial render
            renderCryptoList(cryptoData);

            // Filter functionaliteit
            document.getElementById('exchangeFilter').addEventListener('change', function() {
                const filterValue = this.value.toLowerCase();
                const searchValue = document.getElementById('searchInput').value.toLowerCase();
                
                applyFilters(filterValue, searchValue);
            });

            document.getElementById('searchInput').addEventListener('input', function() {
                const searchValue = this.value.toLowerCase();
                const filterValue = document.getElementById('exchangeFilter').value.toLowerCase();
                
                applyFilters(filterValue, searchValue);
            });

            function applyFilters(exchangeFilter, searchTerm) {
                let filteredData = cryptoData;
                
                // Filter op zoekterm
                if (searchTerm) {
                    filteredData = filteredData.filter(crypto => 
                        crypto.name.toLowerCase().includes(searchTerm) || 
                        crypto.symbol.toLowerCase().includes(searchTerm)
                    );
                }
                
                // Filter op exchange
                if (exchangeFilter !== 'all') {
                    filteredData = filteredData.map(crypto => {
                        const exchangeMatch = crypto.exchanges.find(ex => ex.name.toLowerCase() === exchangeFilter);
                        if (exchangeMatch) {
                            return {
                                ...crypto,
                                exchanges: [exchangeMatch]
                            };
                        }
                        return null;
                    }).filter(crypto => crypto !== null);
                }
                
                renderCryptoList(filteredData);
            }

            // Sorteer functionaliteit
            let ascending = false;
            document.getElementById('sortApy').addEventListener('click', function() {
                const sortedData = [...cryptoData].sort((a, b) => {
                    const maxApyA = Math.max(...a.exchanges.map(e => e.apy));
                    const maxApyB = Math.max(...b.exchanges.map(e => e.apy));
                    
                    return ascending ? maxApyA - maxApyB : maxApyB - maxApyA;
                });
                
                ascending = !ascending;
                this.innerHTML = ascending ? 
                    '<i class="fas fa-sort-amount-up-alt me-1"></i> Sorteer op APY' : 
                    '<i class="fas fa-sort-amount-down-alt me-1"></i> Sorteer op APY';
                
                renderCryptoList(sortedData);
            });

            // Refresh knop functionaliteit
            document.getElementById('refreshData').addEventListener('click', function() {
                this.innerHTML = '<i class="fas fa-spinner fa-spin me-1"></i> Laden...';
                
                // Simuleer data vernieuwen
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-sync-alt me-1"></i> Vernieuw Data';
                    renderCryptoList(cryptoData);
                    
                    // Toast bericht
                    const toast = document.createElement('div');
                    toast.className = 'alert alert-success position-fixed top-0 end-0 m-4';
                    toast.style.zIndex = '1050';
                    toast.innerHTML = '<i class="fas fa-check-circle me-2"></i> Data succesvol vernieuwd!';
                    document.body.appendChild(toast);
                    
                    setTimeout(() => {
                        toast.remove();
                    }, 3000);
                }, 1500);
            });

            // AI Agent functionaliteit
            document.getElementById('askAIButton').addEventListener('click', function() {
                const question = document.getElementById('aiQuestionInput').value;
                if (!question) return;
                
                const aiResponse = document.getElementById('aiResponse');
                aiResponse.innerHTML = `
                    <div class="d-flex align-items-center mb-2">
                        <i class="fas fa-robot text-primary me-2"></i>
                        <strong>AI Assistant:</strong>
                    </div>
                    <div class="loading-spinner-sm">
                        <div class="spinner-border spinner-border-sm text-primary me-2" role="status">
                            <span class="visually-hidden">Laden...</span>
                        </div>
                        <span>AI denkt na en zoekt informatie op...</span>
                    </div>
                `;
                
                // Simuleer AI verwerking en API calls
                setTimeout(() => {
                    const sources = [];
                    let sourceCount = Math.floor(Math.random() * 3) + 2; // 2-4 bronnen
                    
                    if (sourceCount > 0) sources.push('StakingRewards');
                    if (sourceCount > 1) sources.push('DeFiLlama');
                    if (sourceCount > 2) sources.push('CoinGecko');
                    if (sourceCount > 3) sources.push('CoinMarketCap');
                    
                    let responseText = '';
                    
                    if (question.toLowerCase().includes('ethereum')) {
                        responseText = `Op basis van de huidige gegevens van ${sources.join(', ')}, is de beste staking optie voor Ethereum momenteel bij Binance met een APY van 5.2%. Bitvavo biedt 4.5% en Coinbase 3.9%. Houd er rekening mee dat de tarieven kunnen variëren en dat er verschillende lock-up periodes kunnen zijn.`;
                    } else if (question.toLowerCase().includes('bitcoin')) {
                        responseText = `Volgens de laatste gegevens van ${sources.join(', ')}, biedt Binance de hoogste staking opbrengst voor Bitcoin met 6.3% APY. Kraken volgt met 4.8% en Bitvavo met 5.2%. Let op: Bitcoin staking is anders dan bij andere cryptocurrencies en vereist vaak gespecialiseerde diensten.`;
                    } else if (question.toLowerCase().includes('beste') || question.toLowerCase().includes('hoogste')) {
                        responseText = `Op basis van analyse van ${sources.join(', ')}, heeft Polkadot momenteel de hoogste staking opbrengsten met tot 14.2% APY bij Binance. Andere cryptocurrencies met hoge opbrengsten zijn Solana (7.5%) en Cardano (4.1%). De exacte percentages variëren per exchange.`;
                    } else {
                        responseText = `Ik heb uw vraag "${question}" geanalyseerd met behulp van data van ${sources.join(', ')}. Momenteel zijn de staking opbrengsten het hoogst voor proof-of-stake cryptocurrencies zoals Polkadot, Solana en Cardano. Het is belangrijk om niet alleen naar APY te kijken, maar ook naar de betrouwbaarheid van de exchange en eventuele lock-up periodes.`;
                    }
                    
                    aiResponse.innerHTML = `
                        <div class="d-flex align-items-center mb-2">
                            <i class="fas fa-robot text-primary me-2"></i>
                            <strong>AI Assistant:</strong>
                        </div>
                        <p class="mb-2">${responseText}</p>
                        <div class="mt-2">
                            ${sources.map(source => `<span class="source-badge badge me-1">${source}</span>`).join('')}
                        </div>
                    `;
                }, 2000);
            });

            // Enter-toets ondersteuning voor AI vraag
            document.getElementById('aiQuestionInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('askAIButton').click();
                }
            });
        });
    </script>
</body>
</html>
